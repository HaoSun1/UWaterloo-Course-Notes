% header -----------------------------------------------------------------------
% Template created by texnew (author: Alex Rutar); info can be found at 'https://github.com/alexrutar/texnew'.
% version (1.13)


% doctype ----------------------------------------------------------------------
\documentclass[11pt, a4paper]{memoir}
\usepackage[utf8]{inputenc}
\usepackage[left=3cm,right=3cm,top=3cm,bottom=4cm]{geometry}
\usepackage[protrusion=true,expansion=true]{microtype}


% packages ---------------------------------------------------------------------
\usepackage{amsmath,amssymb,amsfonts}
\usepackage{graphicx}
\usepackage{etoolbox}
\usepackage{braket}

% Set enimitem
\usepackage{enumitem}
\SetEnumitemKey{nl}{nolistsep}
\SetEnumitemKey{r}{label=(\roman*)}

% Set tikz
\usepackage{tikz, pgfplots}
\pgfplotsset{compat=1.15}
\usetikzlibrary{intersections,positioning,cd}
\usetikzlibrary{arrows,arrows.meta}
\tikzcdset{arrow style=tikz,diagrams={>=stealth}}

% Set hyperref
\usepackage[hidelinks]{hyperref}
\usepackage{xcolor}
\newcommand\myshade{85}
\colorlet{mylinkcolor}{violet}
\colorlet{mycitecolor}{orange!50!yellow}
\colorlet{myurlcolor}{green!50!blue}

\hypersetup{
  linkcolor  = mylinkcolor!\myshade!black,
  citecolor  = mycitecolor!\myshade!black,
  urlcolor   = myurlcolor!\myshade!black,
  colorlinks = true,
}


% macros -----------------------------------------------------------------------
\DeclareMathOperator{\N}{{\mathbb{N}}}
\DeclareMathOperator{\Q}{{\mathbb{Q}}}
\DeclareMathOperator{\Z}{{\mathbb{Z}}}
\DeclareMathOperator{\R}{{\mathbb{R}}}
\DeclareMathOperator{\C}{{\mathbb{C}}}
\DeclareMathOperator{\F}{{\mathbb{F}}}

% Boldface includes math
\newcommand{\mbf}[1]{{\boldmath\bfseries #1}}

% proof implications
\newcommand{\imp}[2]{($#1\Rightarrow#2$)\hspace{0.2cm}}
\newcommand{\impe}[2]{($#1\Leftrightarrow#2$)\hspace{0.2cm}}
\newcommand{\impr}{{($\Rightarrow$)\hspace{0.2cm}}}
\newcommand{\impl}{{($\Leftarrow$)\hspace{0.2cm}}}

% align macros
\newcommand{\agspace}{\ensuremath{\phantom{--}}}
\newcommand{\agvdots}{\ensuremath{\hspace{0.16cm}\vdots}}

% convenient brackets
\newcommand{\brac}[1]{\ensuremath{\left\langle #1 \right\rangle}}
\newcommand{\norm}[1]{\ensuremath{\left\lVert#1\right\rVert}}
\newcommand{\abs}[1]{\ensuremath{\left\lvert#1\right\rvert}}

% arrows
\newcommand{\lto}[0]{\ensuremath{\longrightarrow}}
\newcommand{\fto}[1]{\ensuremath{\xrightarrow{\scriptstyle{#1}}}}
\newcommand{\hto}[0]{\ensuremath{\hookrightarrow}}
\newcommand{\mapsfrom}[0]{\mathrel{\reflectbox{\ensuremath{\mapsto}}}}
 
% Divides, Not Divides
\renewcommand{\div}{\bigm|}
\newcommand{\ndiv}{%
    \mathrel{\mkern.5mu % small adjustment
        % superimpose \nmid to \big|
        \ooalign{\hidewidth$\big|$\hidewidth\cr$/$\cr}%
    }%
}

% Convenient overline
\newcommand{\ol}[1]{\ensuremath{\overline{#1}}}

% Big \cdot
\makeatletter
\newcommand*\bigcdot{\mathpalette\bigcdot@{.5}}
\newcommand*\bigcdot@[2]{\mathbin{\vcenter{\hbox{\scalebox{#2}{$\m@th#1\bullet$}}}}}
\makeatother

% Big and small Disjoint union
\makeatletter
\providecommand*{\cupdot}{%
  \mathbin{%
    \mathpalette\@cupdot{}%
  }%
}
\newcommand*{\@cupdot}[2]{%
  \ooalign{%
    $\m@th#1\cup$\cr
    \sbox0{$#1\cup$}%
    \dimen@=\ht0 %
    \sbox0{$\m@th#1\cdot$}%
    \advance\dimen@ by -\ht0 %
    \dimen@=.5\dimen@
    \hidewidth\raise\dimen@\box0\hidewidth
  }%
}

\providecommand*{\bigcupdot}{%
  \mathop{%
    \vphantom{\bigcup}%
    \mathpalette\@bigcupdot{}%
  }%
}
\newcommand*{\@bigcupdot}[2]{%
  \ooalign{%
    $\m@th#1\bigcup$\cr
    \sbox0{$#1\bigcup$}%
    \dimen@=\ht0 %
    \advance\dimen@ by -\dp0 %
    \sbox0{\scalebox{2}{$\m@th#1\cdot$}}%
    \advance\dimen@ by -\ht0 %
    \dimen@=.5\dimen@
    \hidewidth\raise\dimen@\box0\hidewidth
  }%
}
\makeatother


% macros (theorem) -------------------------------------------------------------
\usepackage[thmmarks,amsmath,hyperref]{ntheorem}
\usepackage[capitalise,nameinlink]{cleveref}

% Numbered Statements
\theoremstyle{change}
\theoremindent\parindent
\theorembodyfont{\itshape}
\theoremheaderfont{\bfseries\boldmath}
\newtheorem{theorem}{Theorem.}[section]
\newtheorem{lemma}[theorem]{Lemma.}
\newtheorem{corollary}[theorem]{Corollary.}
\newtheorem{proposition}[theorem]{Proposition.}

% Claim environment
\theoremstyle{plain}
\theorempreskip{0.2cm}
\theorempostskip{0.2cm}
\theoremheaderfont{\scshape}
\newtheorem{claim}{Claim}
\renewcommand\theclaim{\Roman{claim}}
\AtBeginEnvironment{theorem}{\setcounter{claim}{0}}

% Un-numbered Statements
\theorempreskip{0.1cm}
\theorempostskip{0.1cm}
\theoremindent0.0cm
\theoremstyle{nonumberplain}
\theorembodyfont{\upshape}
\theoremheaderfont{\bfseries\itshape}
\newtheorem{definition}{Definition.}
\theoremheaderfont{\itshape}
\newtheorem{example}{Example.}
\newtheorem{remark}{Remark.}

% Proof / solution environments
\theoremseparator{}
\theoremheaderfont{\hspace*{\parindent}\scshape}
\theoremsymbol{$//$}
\newtheorem{solution}{Sol'n}
\theoremsymbol{$\blacksquare$}
\theorempostskip{0.4cm}
\newtheorem{proof}{Proof}
\theoremsymbol{}
\newtheorem{nmproof}{Proof}

% Format references
\crefformat{equation}{(#2#1#3)}
\Crefformat{theorem}{#2Thm. #1#3}
\Crefformat{lemma}{#2Lem. #1#3}
\Crefformat{proposition}{#2Prop. #1#3}
\Crefformat{corollary}{#2Cor. #1#3}
\crefformat{theorem}{#2Theorem #1#3}
\crefformat{lemma}{#2Lemma #1#3}
\crefformat{proposition}{#2Proposition #1#3}
\crefformat{corollary}{#2Corollary #1#3}


% macros (algebra) -------------------------------------------------------------
\DeclareMathOperator{\Ann}{Ann}
\DeclareMathOperator{\Aut}{Aut}
\DeclareMathOperator{\chr}{char}
\DeclareMathOperator{\coker}{coker}
\DeclareMathOperator{\disc}{disc}
\DeclareMathOperator{\End}{End}
\DeclareMathOperator{\Fix}{Fix}
\DeclareMathOperator{\Frac}{Frac}
\DeclareMathOperator{\Gal}{Gal}
\DeclareMathOperator{\GL}{GL}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\id}{id}
\DeclareMathOperator{\im}{im}
\DeclareMathOperator{\lcm}{lcm}
\DeclareMathOperator{\Nil}{Nil}
\DeclareMathOperator{\rank}{rank}
\DeclareMathOperator{\Res}{Res}
\DeclareMathOperator{\Spec}{Spec}
\DeclareMathOperator{\spn}{span}
\DeclareMathOperator{\Stab}{Stab}
\DeclareMathOperator{\Tor}{Tor}

% Lagrange symbol
\newcommand{\lgs}[2]{\ensuremath{\left(\frac{#1}{#2}\right)}}

% Quotient (larger in display mode)
\newcommand{\quot}[2]{\mathchoice{\left.\raisebox{0.14em}{$#1$}\middle/\raisebox{-0.14em}{$#2$}\right.}
                                 {\left.\raisebox{0.08em}{$#1$}\middle/\raisebox{-0.08em}{$#2$}\right.}
                                 {\left.\raisebox{0.03em}{$#1$}\middle/\raisebox{-0.03em}{$#2$}\right.}
                                 {\left.\raisebox{0em}{$#1$}\middle/\raisebox{0em}{$#2$}\right.}}


% macros (analysis) ------------------------------------------------------------
\DeclareMathOperator{\M}{{\mathcal{M}}}
\DeclareMathOperator{\B}{{\mathcal{B}}}
\DeclareMathOperator{\ps}{{\mathcal{P}}}
\DeclareMathOperator{\pr}{{\mathbb{P}}}
\DeclareMathOperator{\E}{{\mathbb{E}}}
\DeclareMathOperator{\supp}{supp}
\DeclareMathOperator{\sgn}{sgn}

\renewcommand{\Re}{\ensuremath{\operatorname{Re}}}
\renewcommand{\Im}{\ensuremath{\operatorname{Im}}}
\renewcommand{\d}[1]{\ensuremath{\operatorname{d}\!{#1}}}


% file-specific preamble -------------------------------------------------------
\DeclareMathOperator*{\esssup}{ess\,sup}
\DeclareMathOperator{\Lip}{Lip}


% constants --------------------------------------------------------------------
\newcommand{\subject}{Functional Analysis}
\newcommand{\semester}{Fall 2019}


% formatting -------------------------------------------------------------------
% Fonts
\usepackage{kpfonts}
\usepackage{dsfont}

% Adjust numbering
\numberwithin{equation}{section}
\counterwithin{figure}{section}
\counterwithout{section}{chapter}
\counterwithin*{chapter}{part}

% Footnote
\setfootins{0.5cm}{0.5cm} % footer space above
\renewcommand*{\thefootnote}{\fnsymbol{footnote}} % footnote symbol

% Table of Contents
\renewcommand{\thechapter}{\Roman{chapter}}
\renewcommand*{\cftchaptername}{Chapter } % Place 'Chapter' before roman
\setlength\cftchapternumwidth{4em} % Add space before chapter name
\cftpagenumbersoff{chapter} % Turn off page numbers for chapter
\maxtocdepth{section} % table of contents up to section

% Section / Subsection headers
\setsecnumdepth{section} % numbering up to and including "section"
\newcommand*{\shortcenter}[1]{%
    \sethangfrom{\noindent ##1}%
    \Large\boldmath\scshape\bfseries
    \centering
\parbox{5in}{\centering #1}\par}
\setsecheadstyle{\shortcenter}
\setsubsecheadstyle{\large\scshape\boldmath\bfseries\raggedright}

% Chapter Headers
\chapterstyle{verville}

% Page Headers / Footers
\copypagestyle{myruled}{ruled} % Draw formatting from existing 'ruled' style
\makeoddhead{myruled}{}{}{\scshape\subject}
\makeevenfoot{myruled}{}{\thepage}{}
\makeoddfoot{myruled}{}{\thepage}{}
\pagestyle{myruled}
\setfootins{0.5cm}{0.5cm}
\renewcommand*{\thefootnote}{\fnsymbol{footnote}}

% Titlepage
\title{\subject}
\author{Alex Rutar\thanks{\itshape arutar@uwaterloo.ca}\\ University of Waterloo}
\date{\semester\thanks{Last updated: \today}}

\begin{document}
\pagenumbering{gobble}
\hypersetup{pageanchor=false}
\maketitle
\newpage
\frontmatter
\hypersetup{pageanchor=true}
\tableofcontents*
\newpage
\mainmatter


% main document ----------------------------------------------------------------
\chapter{Fundamentals of Functional Analysis}
\section{Basic Elements of Functional Analysis}
Throughout, we denote by $\F$ either the field $\R$ or the field $\C$.
\subsection{Banach Spaces}
\begin{definition}
    Let $X$ be a vector space over $\F$.
    A \textbf{norm} is a functional $\norm{\cdot}:X\to\R$ such that it is
    \begin{itemize}[nl]
        \item \textit{(non-negative)} $\norm{x}\geq 0$ for any $x\in X$
        \item \textit{(non-degenerate)} $\norm{x}=0$ if and only if $x=0$
        \item \textit{(subadditivity)} $\norm{x+y}\leq\norm{x}+\norm{y}$ for $x,y\in X$
        \item \textit{($\abs{\cdot}-$homogeneity)} $\norm{\alpha x}=\abs{\alpha}\norm{x}$ for $\alpha\in\F$, $x\in X$.
    \end{itemize}
    We call the pair $(X,\norm{\cdot})$ a \textbf{normed vector space}.
    Furthermore, we say that $(X,\norm{\cdot})$ is a \textbf{Banach space}  provided that $X$ is complete with respect to the metric $\rho(x,y)=\norm{x-y}$.
\end{definition}
\begin{example}
    \begin{enumerate}[r]
        \item $(\F,\abs{\cdot})$ is a Banach space.
        \item $(\F^b,\norm{\cdot}_p)$, $x=(x_j)_{j=1}^n$,
            \begin{equation*}
                \norm{x}_p=\begin{cases}
                    \left(\sum_{i=1}^n\abs{x_j}^p\right)^{1/p} & 1\leq p<\infty\\
                    \max_{j=1,\ldots,n}|x_j| & p=\infty
                \end{cases}
            \end{equation*}
        \item Consider the space
            \begin{equation*}
                \quot{L_p^{\F}=\Set{f:[0,1]\to\F | f\text{ is Lebesgue measurable}, \left(\int_0^1\abs{f}^p\right)^{1/p}<\infty}}{\sim_{\text{a.e.}}}
            \end{equation*}
            where $1\leq p<\infty$.
        \item $\displaystyle L_\infty^{\F}[0,1]$, $\norm{f}_\infty=\esssup_{t\in[0,1]}|f(t)|$.
        \item Let $(X,d)$ be a metric space.
            Then
            \begin{equation*}
                C_b^{\F}(x)=\Set{f:X\to\F | f\text{ is continuous and bounded}},\quad\norm{f}_\infty=\sup_{x\in X}|f(x)|
            \end{equation*}
            is a Banach space.
    \end{enumerate}
\end{example}
Here is a more interesting example:
\begin{example}
    Let $(X,d)$ be a metric space.
    We define the space of Lipschitz functions
    \begin{equation*}
        \Lip^{\F}(X,d)=\Set{f:X\to\F | f\text{ is bounded}, L(f)=\sup_{\substack{x,y\in X\\x\neq y}}\frac{|f(x)-f(y)|}{d(x,y)}<\infty}
    \end{equation*}
    We note that for $f:X\to\F$ that
    \begin{equation}\label{e:lip}
        f\in\Lip^{\F}(X,d)\Leftrightarrow\text{there is }L\geq 0\text{ s.t. }|f(x)-f(x)|\leq Ld(x,y)\text{ for all }x,y\in X
    \end{equation}
    It is easy to verify that $L(f)=\min\{L\geq 0:\text{\cref{e:lip} holds for }f\}$.
    It is an easy exercise to see that $\Lip^{\F}$ is a vector space, and that $L:\Lip^{F}(X,d)\to\R$ is a \textbf{semi-norm} (non-negative, subadditive, $\abs{\cdot}-$homogeneous).
    However, we do not have non-degeneracy (for example, constants are taken to $0$).
    We define the Lipschitz norm
    \begin{equation*}
        \norm{f}_{\Lip}=\norm{f}_\infty+L(f)
    \end{equation*}
\end{example}
\begin{proposition}
    $(\Lip^{\F}(X,d),\norm{\cdot}_{\Lip})$ is a Banach space.
\end{proposition}
\begin{proof}
    Let $(f_n)_{n=1}^\infty$ be a Cauchy sequence in $(\Lip^{\F}(X,d),\norm{\cdot}_{\Lip})$.
    Since $\norm{\cdot}_\infty\leq\norm{\cdot}_{\Lip}$ on $\Lip^{F}(X,d)$, we see that $(f_n)_{n=1}^\infty$ is uniformly Cauchy (and bounded), and hence there is $f=\lim_{n\to\infty} f_n$ in $C_b^{\F}(X)$, where the limit is taken with respect to $\norm{\cdot}_\infty$, since $(C_b^{\F}(X),\norm{\cdot}_\infty)$ is a Banach space.
    If $x,y\in X$, then
    \begin{align*}
        |f(x)-f(x)| &= \lim_{n\to\infty}|f_n(x)-f_n(y)|\leq \sup_{n\in\N}|f_n(x)-f_n(y)|\\
                    &\leq \sup_{n\in\N} L(f_n)d(x,y)\leq\sup_{n\in\N}\norm{f_n}_{\Lip} d(x,y)
    \end{align*}
    Since Cauchy sequences are bounded, we see that $|f(x)-f(y)|\leq Ld(x,y)$, where $L=\sup_{n\in\N}\norm{f_n}_{\Lip}<\infty$.
    Thus by \cref{e:lip}, $f\in\Lip^{\F}(X,d)$.
    Exercise: one may verify that $\norm{f-f_n}_{\Lip}\to 0$.
\end{proof}
Another collection of basic examples are given by the sequence spaces.
We can define
\begin{equation*}
    \ell_1^{\F}=\Set{x=(x_j)_{j=1}^\infty\in\F^{\N} | \norm{x}_1=\sum_{j=1}^\infty|x_j|<\infty}
\end{equation*}
It is easy to see that $(\ell_1,\norm{\cdot}_1)$ is a normed vector space.

For $1<p<\infty$, and write
\begin{equation*}
    \ell_p^{\F}=\Set{x\in\F^{\N} |\norm{x}_p=\left(\sum_{j=1}^\infty|x_j|^p\right)^{1/p}<\infty}
\end{equation*}
Note that $0\in\ell_p$, $\alpha\in\F$, $\alpha x\in\ell_p$ if $x\in\ell_p$.
Let $q=p/(p-1)$ so that $1/p+1/q=1$.
Then $q$ is called the \textbf{conjugate index}.
We have
\begin{proposition}[Young's Inequality]
    If $a,b\geq 0$ in $\R$, then $ab\leq a^p/p+b^q/q$, with equality only if $a^p=b^q$.
\end{proposition}
and
\begin{proposition}[H\"older's Inequality]
    If $x\in\ell_p$ and $y\in\ell_q$, then $xy=(x_iy_i)_{i=1}^\infty\in\ell_1$, with
    \begin{equation*}
        \sum_{i=1}^\infty \abs{x_iy_i}\leq\norm{x}_p\norm{y}_q
    \end{equation*}
    with equality exactly when $\sgn(x_iy_i)=\sgn(x_ky_k)$ for all $j,k\in\N$ where $x_iy_i\neq 0\neq x_ky_k$, and $|x|^p=(|x_j|^p)_{j=1}^\infty$ and $|y|^q$ are linearly dependent in $\ell_1$.
\end{proposition}
and finally
\begin{proposition}[Minkowski's Inequality]
    If $x,y\in\ell_p$, then $\norm{x+y}_p\leq\norm{x}_p+\norm{y}_p$ with equality exactly when one of $x$ or $y$ is a non-negative scalar combination of the other.
\end{proposition}

\subsection{Review of Topology}
Let $X$ denote a non-empty set, and $\mathcal{P}(X)$ denote the power set of $X$.
\begin{definition}
    A \textbf{topology} on a set $X$ is a set $\tau$ of subsets of $X$ such that
    \begin{enumerate}[nl,r]
        \item $\emptyset,X\in\tau$
        \item If $U_\alpha\in\tau$ for all $\alpha\in A$, then $\bigcup_{\alpha\in A}U_\alpha\in\tau$.
        \item If $n\in\N$ and $U_i\in\tau$ for each $1\leq i\leq n$, then $\bigcap_{i=1}^n U_i\in\tau$.
    \end{enumerate}
    The sets $U\in\tau$ are called the \textbf{open sets} in $X$, and sets of the form $X\setminus U$ for some open set $U$ are caled the \textbf{closed sets} in $X$.
    The pair $(X,\tau)$ is called a \textbf{topological space}.
\end{definition}
The metric topology on a metric space $(X,d)$ is the topology
\begin{equation*}
    \tau_d = \Set{U\subseteq X |\text{ for each }x_0\in U\text{, there is }\delta=\delta(x_0)\text{ s.t. }\\B_\delta(x_0)\subseteq U}
\end{equation*}
\begin{example}
    \begin{enumerate}[r]
        \item Given two metrics $d,\rho$ on $X$, we say that $d\sim\rho$ if and only if there are $c,C>0$ such that
            \begin{equation*}
                cd(x,y)\leq\rho(x,y)\leq Cd(x,y)\text{ for any }x,y\in X
            \end{equation*}
            Note that $d\sim\rho$ implies that $\tau_d=\tau_\rho$, but the reverse implication is not true.
            An example of this are the metrics on $X=\R$ given by $d(x,y)$ and $\rho(x,y)=\frac{|x-y|}{1+|x-y|}$.
            Then $d\not\sim\rho$ but $\tau_d=\tau_\rho$.
        \item ``Sorgenfry line''
            Set $X=\R$, and consider
            \begin{equation*}
                \sigma=\Set{V\subseteq\R | \text{ for any }s\in V,\text{ there is }\delta=\delta(s)>0\text{ s.t. }[s,s+\delta)\subseteq V}
            \end{equation*}
            It is an exercise to verify that $\tau_{\abs{\cdot}}\subsetneq\sigma$.
            We say that $\sigma$ is \textbf{finer} than $\tau_{\abs{\cdot}}$.
        \item Relative topology: let $(X,\tau)$ be a topological space, and $\emptyset\neq A\subseteq X$.
            Then we can define a topology $\tau|_A=\{U\cap A:U\in\tau\}$.
    \end{enumerate}
\end{example}
\begin{definition}
    Let $(X,\tau)$ and $(Y,\sigma)$ be topological spaces, and $f:X\to Y$.
    We say that $f$ is \textbf{$(\tau-\sigma-)$continuous} at $x_0$ in $X$ if,
    \begin{itemize}
        \item given $V\in\sigma$ such that $f(x_0)\in V$, then there exists $U\in\tau$ such that $x_0\in U$ and $f(U)\subseteq V$.
    \end{itemize}
    We say that $f$ is $(\tau-\sigma-)$continuous if it is continuous at each $x_0$ in $X$.
\end{definition}
\subsection{Space of bounded continuous functions into a normed space}
Let $(Y,\norm{\cdot})$ denote a normed space.
We let $\tau_{\norm{\cdot}}$ denote the topology given by the metric $\rho(x,y)=\norm{x-y}$.
Let $(X,\tau)$ denote any topological space.
Then we write
\begin{equation*}
    C_b^Y(X) = \Set{f:X\to Y | f\text{ is bounded  and }\tau-\tau_{\norm{\cdot}}-\text{continuous}}
\end{equation*}
With pointwise operations, we see that $C_b^Y(X)$ is a vector space.
We also define for $f\in C_b^Y(X)$, $\norm{f}_\infty=\sup\{\norm{f(x)}:x\in X\}$, making $(C_b^Y(X),\norm{\cdot}_\infty)$ a normed vector space.
\begin{theorem}
    If $(Y,\norm{\cdot})$ is a Banach space, then $(C_b^Y(X),\norm{\cdot}_\infty)$ is a Banach space.
\end{theorem}
\begin{proof}
    Let $(f_n)_{n=1}^\infty$ be a Cauchy sequence in $(C_b^Y(X),\norm{\cdot}_\infty)$.
    Then for any $x\in X$, we have that $(f_n(x))_{n=1}^\infty$ is Cauchy in $(Y,\norm{\cdot})$ since $\norm{f_n(x)-f_m(x)}\leq\norm{f_n-f_m}_\infty$, and hence admis a limit $f(x)$.
    In particular, $x\mapsto f(x)$ defines a function from $X$ to $Y$.
    We shall fix $x_0\in X$ and show that $f$ is continuous at $x_0$.
    Given $\epsilon>0$, we let
    \begin{itemize}[nl]
        \item $n_1$ be so $n,m\geq n_1$ so that $\norm{f_n-f_m}_\infty<\epsilon/4$.
        \item $n_2$ be so $n\geq n_2$ so that $\norm{f_n(x_0)-f(x_0)}<\epsilon/4$.
        \item $N=\max\{n_1,n_2\}$.
        \item $U\in \tau$, $x_0\in U$ such that $f_N(U)\subseteq B_{\epsilon/4}(f(x_0))\subset Y$.
    \end{itemize}
    Then for $x\in U$, we let $n_x$ be so $n_x\geq n_1$ and $n\geq n_x$, so that $\norm{f_n(x)-f(x)}<\epsilon/4$.
    We then have
    \begin{align*}
        \norm{f(x)-f(x_0)} &\leq \norm{f(x)-f_{n_x}(x)} + \norm{f_{n_x}(x)-f_N(x)} + \norm{f_N(x)-f_N(x_0)} + \norm{f_N(x_0)-f(x_0)}\\
                           &<\frac{\epsilon}{4}+\norm{f_{n_x}-f_N}_\infty+\frac{\epsilon}{4}+\frac{\epsilon}{4}<\epsilon
    \end{align*}
    in other words that $f(U)\subseteq B_\epsilon(f(x_0))$.

    Now let us check that $\norm{f}_\infty<\infty$.
    Since $|\norm{f_n}_\infty-\norm{f_m}_\infty|\leq\norm{f_n-f_m}_\infty$, so $(\norm{f_n}_\infty)_{n=1}^\infty\subseteq\R$ is Cauchy, hence bounded.
    If $x\in X$, then
    \begin{equation*}
        \norm{f(x)} = \lim_{n\to\infty}\norm{f_n(x)}\leq\sup_{n\in\N}\norm{f_n(x)}\leq\sup_{n\in\N}\norm{f_n}_\infty<\infty
    \end{equation*}
    so $\norm{f}_\infty=\sup_{x\in X}\norm{f(x)}<\infty$.

    Notice that if $\epsilon$, $n_1$ are as above, and further $x_0,N$ are as above, we have for $n\geq n_1$
    \begin{equation*}
        \norm{f_n(x_0)-f(x_0)} \leq \norm{f_n(x_0)-f_N(x_0)}+\norm{f_N(x_0)-f(x_0)}<\frac{\epsilon}{2}
    \end{equation*}
    so $\norm{f_n-f}_\infty=\sup_{x_0\in X}\norm{f_n(x_0)-f(x_0)}\leq\epsilon/2<\epsilon$.
    This is uniform since $n_1$ is chosen uniformly in $X$.
\end{proof}
\begin{corollary}
    $(C_b^{\F}(X),\norm{\cdot}_\infty)$ is a Banach space.
\end{corollary}
Let's first note the following general priniple: let $(X,d)$, $(Y,\rho)$ be metric spaces, where $(X,d)$ is complete.
If $\psi:X\to Y$ is a $(d-\rho-)$isometry, then $(\psi(X),\rho|_{\psi(X)})$ is a complete metric space.
\begin{example}
    \begin{enumerate}[nl,r]
        \item Let $T$ be a non-empty set and let
            \begin{equation*}
                \ell_\infty(T) = \Set{x=(x_t)_{t\in T}\in\F^T | \norm{x}_\infty}<\infty
            \end{equation*}
            With pointwise operations, $(\ell_\infty,\norm{\cdot}_\infty)$ is a normed space.
            In fact, it is a Banach space.
            Let us note that
            \begin{align*}
                f\mapsto (f(t))_{t\in T}:C_b(T,\mathcal{P}(T))\to\ell_\infty(T)
            \end{align*}
            is a surjective linear isometry, and the result follows.
        \item Let $c=\Set{x\in\ell_\infty | \lim_{n\to\infty}x_n\text{ exists}}$.
            Then $(c,\norm{\cdot}_\infty)$ is a Banach space.
            Consider the topological space given by $\omega=\N\cup\{\infty\}$, with topology
            \begin{equation*}
                \tau_\omega=\mathcal{P}(\N)\cup\bigcup_{n\in\N}\{k\in\N:k\geq n\}
            \end{equation*}
            The map $f\mapsto(f(n))_{n=1}^\infty:C_b(\omega)\to c$ is a linear surjective isometry.
        \item $c_0=\Set{x\in\F^{\N} | \lim_{n\to\infty}x_n=0}\subseteq c\subseteq\ell_\infty$.
            \begin{lemma}
                If $x_0\in X$ where $(X,\tau)$ is a topological space, then
                \begin{equation*}
                    \mathcal{I}(x_0)= \Set{f\in C_b(x) | f(x_0)=0}
                \end{equation*}
                is closed, hence complete, subspace of $C_b(X)$.
            \end{lemma}
            \begin{proof}
                If $(f_n)_{n=1}^\infty\subseteq\mathcal{I}(x_0)$ and $f=\lim_{n\to\infty}f_n$ with respect to $\norm{\cdot}_\infty$ in $C_b(X)$, then $f(x_0)=\lim_{n\to\infty}f_n(x_0)=0$.
                Thus $f\in\mathcal{I}(x_0)$, and closed subsets of complete spaces are themselves complete.
            \end{proof}
            Now, $f\mapsto(f(n))_{n=1}^\infty:\mathcal{I}(\infty)\to c_0$ is a (linear) surjective isometry.
        \item Consider the Sorgenfty line $(\R,\sigma)$: verify that
            \begin{equation*}
                c_b(\R,\sigma)=\Set{f:\R\to\F | f\text{ is bounded and }\lim_{t\to t_0^+} f(t)=f(t_0)\text{ for }t\in\R}
            \end{equation*}
    \end{enumerate}
\end{example}
\section{Linear operators and linear functionals}
Let $X,Y$ be vector spaces.
We let $\mathcal{L}(X,Y)=\Set{S:X\to Y | S\text{ is linear}}$; this is itself a vector space with pointwise operations.
Let $(X,\norm{\cdot})$ be a normed space.
We denote
\begin{align*}
    D(X) &= \{x\in X:\norm{x}<1\}\\
    S(X) &= \{x\in X:\norm{x}=1\}\\
    B(X) &= \{x\in X:\norm{x}\leq 1\}
\end{align*}
\textit{(Yes, this notation is confusion. No, I didn't choose it.)}

\begin{proposition}
    If $X,Y$ are normed spaces and $S\in\mathcal{L}(X,Y)$, then the following are equivalent:
    \begin{enumerate}[nl,r]
        \item $S$ is continuous
        \item $S$ is continuous at some $x_0\in X$
        \item $\norm{S}=\sup_{x\in D(X)}\norm{Sx}<\infty$.
    \end{enumerate}
    Moreover, in this case, we have 
    \begin{align*}
        \norm{S}&=\min\{L>0:\norm{Sx}\leq L\norm{x}\text{ for }x\in X\}\\
                &= \sup_{x\in S(X)}\norm{Sx}=\sup_{x\in B(X)}\norm{Sx}
    \end{align*}
\end{proposition}
\begin{proof}
    \imp{i}{ii}
    Obvious

    \imp{ii}{iii}
    Note that
    \begin{equation*}
        Sx_0+D(Y) = \{Sx_0+y:t\in D(Y)\} = \{y\in Y:\norm{Sx_0-y'}<1\}
    \end{equation*}
    is a neighbourhood of $Sx_0$.
    By the definition of metric continuity, there is $\delta>0$ such that
    \begin{equation*}
        x_0+\delta D(X) = \{x_0+\delta x:x\in D(x)\}=\{x'\in X:\norm{x_0-x'}<\delta\}
    \end{equation*}
    such that
    \begin{equation*}
        Sx_0+\delta S(D(X)) = S(x_0+\delta D(x)\subseteq Sx_0+D(Y)
    \end{equation*}
    which implies that $\delta S(D(X))\subseteq D(Y)$ and $S(D(X))\subseteq D(Y)/\delta$, in other words that $\norm{Sx}\leq 1/\delta$ for $x\in D(X)$.

    \imp{iii}{i}
    If $x\in X$ and $\epsilon>0$, then
    \begin{equation*}
        \norm{Sx} = (\norm{x}+\epsilon)\norm{S\left(\frac{1}{\norm{x}+\epsilon}\norm{x}\right)}\leq(\norm{x}+\epsilon){\norm{S}}
    \end{equation*}
    Then, letting $\epsilon\to 0^+$, we see that
    \begin{equation*}
        \norm{Sx}\leq\norm{x}\norm{S}=\norm{S}\norm{X}
    \end{equation*}
    If $x,x'\in X$, then $\norm{Sx-S'x}\leq\norm{S}\norm{x-x'}$ is $S$ is Lipschitz, hence continuous.

    To complete the proof, the content of (iii) implies (i) tellus us that the Lipschitz constant $L(S)\leq\norm{S}$.
    Furthermore, if $\norm{x}=1$, the preceding proof gives us that $\norm{S}_{S(X)}$.

    Conversely,
    \begin{equation*}
        \norm{S} = \sup_{x\in D(X)\setminus\{0\}}\norm{Sx}=\sup_{x\in D(X)\setminus\{0\}}\norm{x}\norm{S\left(\frac{1}{\norm{x}}x\right)}\leq\sup_{x\in S(X)}\norm{Sx}
    \end{equation*}
    The remaining equivalence is obvious.
\end{proof}
We now let $\mathcal{B}(X,Y)=\Set{S\in\mathcal{L}(X,Y) | S\text{ is bounded}}$.
We will see that $\norm{\cdot}$, above, defines a norm on $B(X,Y)$.
\begin{theorem}
    If $X,Y$ are normed spaces, then $(\mathcal{B}(X,Y),\norm{\cdot})$ is a normed space.
    Furthermore, if $Y$ is a Banach spaces, then so to is $(\mathcal{B}(X,Y),\norm{\cdot})$.
\end{theorem}
\begin{proof}
    Define
    \begin{equation*}
        \Gamma:\mathcal{B}(X,Y)\to C_b^Y(B(X))
    \end{equation*}
    given by $\Gamma(S)=S|_{B(X)}$.
    Then, by definition, $\Gamma$ is linear, with
    \begin{equation*}
        \norm{\Gamma(S)}_\infty=\sup_{x\in B(X)}\norm{Sx}=\norm{S}
    \end{equation*}
    Thus $\norm{\cdot}$ is a norm: if $S,T\in\mathcal{B}(X,Y)$, $\alpha\in\F$,
    \begin{align*}
        \norm{S+T}&=\norm{\Gamma(S+T)}_\infty=\norm{\Gamma(S)+\Gamma(T)}_\infty\leq \norm{\Gamma(S)}_\infty+\norm{\Gamma(T)}_\infty=\norm{S}+\norm{T}\\
        \norm{\alpha S}&=\norm{\Gamma(\alpha S)}_\infty=|\alpha|\norm{\Gamma(S)}_\infty=|\alpha|\norm{S}.
    \end{align*}
    Furthermore, $\Gamma:\mathcal{B}(X,Y)\to C_b^Y(\mathcal{B}(X))$ is an isometry.

    Now suppose that $Y$ is a Banach space.
    We will show that $\Gamma(\mathcal{B}(X,Y))$ is closed in $C_b^Y(B(X))$, and hence $B(X,Y)=\Gamma^{-1}(\Gamma(\mathcal{B}(X,Y)))$ is complete.
    Let $(S_n)_{n=1}^\infty\subset\mathcal{B}(X,Y)$ be $\norm{\cdot}-$Cauchy.
    Then $(\Gamma(S_n))_{n=1}^\infty$ is $\norm{\cdot}_\infty-$Cauchy in $C_b^Y(B(X))$, and hence there is $f\in C_b^Y(B(X))$ such that $\lim_{n\to\infty}\norm{\Gamma(S_n)-f}_\infty=0$.
    Then we let $S:X\to Y$ be given by
    \begin{equation*}
        Sx=\begin{cases}
            \norm{x}f\left(\frac{x}{\norm{x}}\right) & x\neq 0\\
            0 & x=0
        \end{cases}
    \end{equation*}
    If $x,x'\in X$ and $\alpha\in\F$ are all such that $x,x',x+\alpha x'\neq 0$, then
    \begin{align*}
        S(x+\alpha x') &= \norm{x+\alpha x'}f\left(\frac{1}{x+\alpha x'}(x+\alpha x')\right)\\
                       &= \norm{x+\alpha x'}\lim_{n\to\infty} S_n\left(\frac{1}{x+\alpha x'}(x+\alpha x')\right)\\
                       &= \lim_{n\to\infty}(S_nx+\alpha S_nx')=\lim_{n\to\infty}\left[\norm{x}S_n\left(\frac{1}{\norm{x}}x\right)+\alpha\norm{x'}S_n\left(\frac{1}{\norm{x}}x'\right)\right]\\
                       &= \norm{x}f\left(\frac{x}{\norm{x}}\right)+\alpha\norm{x'}f\left(\frac{x'}{\norm{x}}\right)\\
                       &= Sx+\alpha Sx'
    \end{align*}
    The above computation is easily performed if any of $x$, $x'$, $x+\alpha x'$ are 0.
    Hence $S\in\mathcal{L}(X,Y)$.
    We se that $S$ is continuous (say, at a point on $S(X)$), so $S\in\mathcal{B}(X,Y)$.
    Finally, as $S|_{B(X)}=f=\lim_{n\to\infty}S_n|_{B(X)}$ (with respect to the uniform norm), we have
    \begin{equation*}
        \norm{S-S_n}=\sup_{x\in B(X)}\norm{(S-S_n)x}=\norm{f-\Gamma(S_n)}_\infty
    \end{equation*}
    goes to $0$ as $n$ goes to infinity.
\end{proof}
\begin{definition}
    Given a vector space $X$, let $X'=\mathcal{L}(X,\F)$ denote the \textbf{algebraic dual}.
    If further $X$ is a normed space, we let $X^*=\mathcal{B}(X,\F)$ denote the (continuous) dual.
\end{definition}
\begin{corollary}
    If $X$ is a normed spaces, then $X^*$ is always a Banach space.
\end{corollary}
\begin{theorem}
    Let for $x\in\ell_1$, $f_x:c_0\to\F$ be given by $f_x(y)=\sum_{j=1}^\infty x_jy_j$.
    Then $f_x\in c_0^*$ with $\norm{f_x}=\norm{x}_1$.
    Furthermore, every element of $c_0^*$ arises as above.
\end{theorem}
\begin{proof}
    If $x\in\ell_1$ and $y\in c_0\subseteq\ell_\infty$, then
    \begin{equation*}
        \sum_{j=1}^\infty|x_jy_j|\leq\sum_{j=1}^\infty|x_j|\norm{y}_\infty=\norm{x}_1\norm{y}_\infty<\infty
    \end{equation*}
    so $f_x(y)=\sum_{j=1}^\infty x_jy_j$ is well-defined.
    It is obvious that $f_x$ is linear: $f_x(y+\alpha y')=f_x(y)+\alpha f(y')$ for $y,yl\in c_0$ and $\alpha\in\F$.
    Also, $\norm{f_x}\leq\norm{x}_1$.
    We let $y^{n}=(\overline{\sgn x},\ldots,\overline{\sgn x_n},0,0,\ldots)\in c_0$, with $\norm{y^n}=1$.
    Then
    \begin{equation*}
        \norm{f_x}\geq|f_x(y^n)|=\sum_{j=1}^n x_i\overline{\sgn x_i}=\sum_{j=1}^n|x_i|
    \end{equation*}
    so that $\norm{f_x}\geq\norm{x}_1$, and hence equality holds.

    Now let $f\in c_0^*$, and write $e_n=(0,\ldots,0,1,0,0,\ldots)\in c_0$, and let $x_n=f(e_n)$.
    Then, let $y\in c_0$ and $y^n=(y_1,\ldots,y_n,0,0,\ldots)$ and we have
    \begin{equation*}
        \norm{y-y^n}_\infty=\sup_{j\geq n+1}|y_j|
    \end{equation*}
    which goes to 0 as $n$ goes to infinity.
    Then since $f$ is continuous, we have
    \begin{equation*}
        f(y)=\lim_{n\to\infty}f(y^n)=\lim_{n\to\infty}\sum_{j=1}^n y_jx_j=\sum_{j=1}^\infty x_jy_j=f_x(y)
    \end{equation*}
    We use sequence $(y^n)_{n=1}^\infty$ as in $y^n\in c_0$, to see that
    \begin{equation*}
        \sum_{j=1}^n|x_i|=|f(y^n)|\leq\norm{f}<\infty
    \end{equation*}
    so $x\in\ell_1$.
    Thus $f=f_x$, as desired.
\end{proof}
\begin{corollary}
    $\ell_1\cong c^*$ isometrically isomorphically.
\end{corollary}
\begin{proof}
    For $y\in c$, let $L(y)=\lim_{n\to\infty}y_n$.
    Given $y\in c$, let $y^n=(y_1,\ldots,y_n,L(y),L(y),\ldots)\in c$.
    Notice that $\norm{y-y^n}_\infty\to 0$ similarly as above.

    We let $1=(1,1,\ldots)$, and $1_n=(0,\ldots,0,1,1,\ldots)$.
    If $m<n$, then $1_n-1_m\in c_0$, so
    \begin{equation*}
        |f(1_n)-f(1_m)| = |f_x(1_n-1_m)|\leq \sum_{j=m+1}^n|x_j|
    \end{equation*}
    so that $(f(1_n))_{n=1}^\infty$ is Cauchy in $\F$.
    Let $x_0=\lim_{n\to\infty}f(1_n)$.
    Let $\tilde x=(x_0,x_1,\ldots)\in\ell_1$.
    Then letting $x_j=f(e_j)$, we see that
    \begin{equation*}
        f(y)=\lim_{n\to\infty}f(y^n)=\sum_{j=1}^\infty x_jy_j+x_0L(y)
    \end{equation*}
    Similarly as above, we may show that $\norm{f}=\norm{\tilde x}_1$.


\end{proof}
\begin{remark}
    We write $c_0^*\cong\ell_1$ isometrically.
\end{remark}
\begin{corollary}
    $(\ell_1,\norm{\cdot}_1)$ is complete.
\end{corollary}
\section{Axiom of Choice and the Hahn-Banach Theorem}
\begin{definition}
    Let $S$ be a non-empty set.
    A \textbf{partial ordering} is a binary relation $\leq$ on $S$ which satisfies for $s,t,n\in S$,
    \begin{enumerate}[nl,r]
        \item \textit{(reflexivity)} $s\leq s$
        \item \textit{(transitivity)} $s\leq t$, $t\leq u$ implies $s\leq u$
        \item \textit{(anti-symmetry)} $s\leq t$, $t\leq s$ implies $s=t$
    \end{enumerate}
    We call the pair $(S,\leq)$ a \textbf{partially ordered set}.
    We say that $(S,\leq)$ is \textbf{totally ordered} if, given $s,t\in S$, at least one of $s\leq t$ or $t\leq s$ holds.
    We say that $(S,\leq)$ is \textbf{well-ordered} if given any $\emptyset\neq S_0\subseteq S$, there is some $s_0\in S_0$ such that $s_0\leq s$ for $s\in S_0$.
    A \textbf{chain} in a poset $(S,\leq)$ is any $\emptyset\neq C\subseteq S$ such that $(S,\leq|_C)$ is totally ordered.
\end{definition}
\begin{example}
    \begin{enumerate}[nl,r]
        \item $X\neq\emptyset$, $(\mathcal{P}(X),\subseteq)$ is a poset
        \item $(\R,\leq)$ is a totally ordered set
        \item $(\N,\leq)$, $(\omega=\N\cup\{\infty\},\leq)$, are well-ordered sets.
    \end{enumerate}
\end{example}
\begin{theorem}
    The following are equivalent:
    \begin{enumerate}[nl,r]
        \item \textit{(Axiom of Choice 1)}: For any $x\neq\emptyset$, there is a function $\gamma:\mathcal{P}(X)\setminus\{\emptyset\}\to X$ such that $\gamma(A)\in A$ for each $A\in\mathcal{P})X_\setminus\{\emptyset\}$.
        \item \textit{(Axiom of Choice 2)}: Given any $\{A_\lambda\}_{\lambda\in\Lambda}$ where $A_\lambda\neq\emptyset$ for each $\lambda$,
            \begin{equation*}
                \prod_{\lambda\in\Lambda}A_\lambda = \left\{(a_\lambda)_{\lambda\in\Lambda}:a_\lambda\in A_\lambda\text{ for each }\lambda\right\}\neq \emptyset
            \end{equation*}
        \item \textit{(Zorn's Lemma)}: In a poset $(S,\leq)$, if each chain $C\subseteq S$ admits an upper bound in $S$, then $(S,\leq)$ admis a maximal element.
        \item \textit{(Well-ordering principle)}: Any $S\neq\emptyset$ admits a well-ordering
    \end{enumerate}
\end{theorem}
\begin{proof}
    Exercise.
\end{proof}
\begin{definition}
    Let $X$ be a vector space (over $k$).
    A subset $S\subseteq X$ is called
    \begin{itemize}[nl]
        \item \textbf{linearly independent} if for any distinct $x_1,\ldots,x_n\in S$, the equation $0=\alpha_1x_1+\cdots+\alpha_nx_n=0$ where $\alpha_i\in k$ implies $\alpha_1=\cdots=\alpha_n=0$.
        \item \textbf{spanning} if each $x\in X$ admits $x_i\in S$ and $\alpha_i\in k$ such that $x=\alpha_1x_1+\cdots+\alpha_nx_n$.
        \item \textbf{Hamel basis} if it is both linearly independent and spanning
    \end{itemize}
\end{definition}
\begin{proposition}
    Any vector space $X$ admits a Hamel basis.
\end{proposition}
\begin{proof}
    Let $\mathcal{L}=\{L\subseteq X:L\text{ is linearly independent}\}$.
    Then $(\mathcal{L},\subseteq)$ is a poset.
    Verify that for any chain $\mathcal{C}\subseteq\mathcal{L}$, that $U=\bigcup_{L\in\mathcal{C}}L\in\mathcal{L}$ and is an upper bound for $\mathcal{C}$.
    Apply Zorn to find a maximal element $M$ in $(\mathcal{L},\subseteq)$.
    Verify that $M$ is spanning for $X$.
\end{proof}
\begin{corollary}
    If $X$ is an infinite dimensional normed space, then there exists $f\in X'\setminus X^*$.
\end{corollary}
\begin{proof}
    Our assumption provides $\{e_n\}_{n=1}^\infty$ which is linearly independent.
    By normalizing each element, we may and will suppose that each $\norm{e_n}=1$.
    Let
    \begin{equation*}
        \spn\{e_n\}_{n=1}^\infty=\Set{\sum_{j=1}^m\alpha_je_{n_j}:m\in\N,\alpha_i\in\F, n_1<\cdots<n_m}
    \end{equation*}
    and let $B$ be any linearly independent set containing $\{e_n\}_{n=1}^\infty$.
    Define $f:X=\spn B\to\F$ be given for $x=\sum_{b\in B\setminus\{e_n\}_{n=1}^\infty}\alpha_b b+\sum_{j=1}^n\alpha_je_{n_j}$ by $f(x)=\sum_{j=1}^m\alpha_j n_j$.
    The point is that $f(e_n)=n$ and $f(e)=0$ for any other $e\in B$.
    Notice that
    \begin{equation*}
        \norm{f}=\sup_{x\in B(X)}|f(x)|\geq\sup_{n\in\N}|f(e_n)|=\sup_{n\in\N}n=\infty
    \end{equation*}
\end{proof}
\begin{definition}
    Let $X$ be a $\R-$vector space.
    A \textbf{sublinear functional} is any $\rho:X\to\R$ such that it satisies
    \begin{itemize}[nl]
        \item \textit{(non-negative homogenity)} $\rho(tx)=t\rho(x)$ for $t\geq 0$, $x\in X$.
        \item \textit{(subadditivity)} $\rho(x+y)\leq\rho(x)+\rho(y)$ for $x,y\in X$.
    \end{itemize}
\end{definition}

\begin{theorem}[Hahn-Banach]
    Let $X$ be a $\R-$vector space, $\rho:X\to\R$ a sublinear functional, $Y\subseteq X$ a subspace and $f\in Y'$ such that $f\leq\rho|_Y$.
    Then there exists $F\in X'$ such that $F|_Y=f$ and $F\leq\rho$ on $X$.
\end{theorem}
\begin{proof}
    We first do this for extensions by a single point $x\in X\setminus Y$.
    We wish to find $c\in\R$ such that
    \begin{equation*}
        f(y)+\alpha c\leq\rho(y+\alpha x)
    \end{equation*}
    for $y\in Y$ and $\alpha\in\R$.
    In this case, we let $F:\spn Y\cup\{x\}\to\R$ be given by $F(y+\alpha x)=f(y)+\alpha c$, and we have that $F$ is linear and satisfies $F\leq\rho$ on $\spn Y\cup\{s\}$.
    To do this, let $y_+,y_-$ in $Y$ and observe that $f(y_+)+f(y_-)=f(y_++y_-)\leq \rho(y_++y_-)\leq\rho(y_++x)+\rho(y_--x)$ so that $f(y_-)-\rho(y_--x)\leq\rho(y_++x)-f(y_+)$.
    It thus follows that
    \begin{equation*}
        \sup\{f(y)-\rho(y-x):y\in Y\}\leq\in\{\rho(y+x)-f(y):y\in Y\}
    \end{equation*}
    so we may find $c\in\R$ for which
    \begin{equation*}
        \sup\{f(y)-\rho(y-x):y\in Y\}\leq c\leq\inf\{\rho(y+x)-f(y):y\in Y\}
    \end{equation*}
    If $t>0$, then for $y\in Y$,
    \begin{equation*}
        c\leq\rho\left(\frac{1}{t}y+x\right)-f\left(\frac{1}{t}y\right)\Rightarrow tc\leq\rho(y+tx)-f(y)\Rightarrow f(y)+tc\leq\rho(y+tx)
    \end{equation*}
    and if $s>0$, then for $y\in Y$,
    \begin{equation*}
        f\left(\frac{1}{s}y\right)-\rho\left(\frac{1}{s}y-x\right)\leq c\Rightarrow sc\leq f(y)-\rho(y+sx)\Rightarrow f(y)-sc\leq\rho(y-sx)
    \end{equation*}
    Clearly, $f(y)+0\leq\rho(y+0x)$.
    Hence, we have our desired inequality.

    We now use Zorn's lemma to lift this result to the whole space.
    Consider the set of ``$p$-extensions'' of $f$,
    \begin{equation*}
        \mathcal{E} = \Set{(\mathcal{M},\psi) | Y\subseteq\mathcal{M}\subseteq X,\mathcal{M}\text{ is a subspace}, \psi\in\mathcal{M}',\psi|_Y=f,\psi\leq P|_{\mathcal{M}}}
    \end{equation*}
    Define a partial order on $\mathcal{E}$ by
    \begin{equation*}
        (\mathcal{M},\psi)\leq(\mathcal{N},\phi)\text{ iff }\mathcal{M}\subseteq\mathcal{N},\phi|_{\mathcal{M}}=\psi
    \end{equation*}
    Suppose $\mathcal{C}\subseteq\mathcal{E}$ is a chain with respect to $\leq$.
    We let
    \begin{itemize}[nl]
        \item $\mathcal{U}=\bigcup_{(\mathcal{M},\varphi)}\mathcal{M}$ which is a subspace, since $\mathcal{C}$ is a chain.
        \item and define $\phi:\mathcal{U}\to\R$ by $\phi(x)=\psi(x)$ whenever $x\in\mathcal{M}$, which is again well-defined since $C$ is a chain.
    \end{itemize}
    Furthermore, we see that $\phi\in U'$, since if $x,y\in\mathcal{U}$, get $x\in\mathcal{M}$, $y\in\mathcal{N}$ for some $(\mathcal{M},\psi)\leq(\mathcal{N},\psi')\in\mathcal{C}$.
    Then $\phi(x+y)=\psi'(x+y)=\psi'(x)+\psi'(y)=\phi(x)+\phi(y)$, etc.
    Likewise, $\psi\leq p|_{\mathcal{U}}$.
    Thus by Zorn's lemma, $\mathcal{E}$ admits a maximal element $\mathcal{M},F$
    Then $\mathcal{M}=X$, for if not, then we would find $x\in X\setminus\mathcal{M}$ and we apply step one to $\spn\mathcal{M}\cup\{x\}$ to get $F'$, a strictly larger element violating maximality.
\end{proof}
Trivially, any $\C-$vector siace is a $\R-$vector space.
\begin{lemma}
    Let $X$ be a $\C-$vector space.
    \begin{enumerate}[nl,r]
        \item If $f\in X'_{\R}$ into $\R$, then define $f_{\C}$ given by $f_{\C}(x)=f(x)-if(ix)$ defines an element of $X'=X'_{\C}$.
        \item If $g\in X'$, then $f=\Re g$ in $X'_{\R}$ satisfies $g=f_{\C}$.
        \item If $X$ is a normed $\C-$vector space, then for $f\in X'_{\R}$,
            \begin{equation*}
                f\in X^*_{\R}\text{ if and only if}f_{\C}\in X^*=X^*_{\C}\text{ with }\norm{f}=\norm{f_{\C}}
            \end{equation*}
    \end{enumerate}
\end{lemma}
\begin{proof}
    (i) and (ii) are straightforward exercises; let's see (iii).
    We let fr $x\in X$, $z=\sgn f_{\C}(x)$.
    Then
    \begin{align*}
        \R\ni|f_{\C}(x)|&=\overline{z}f_{\C}(x)=f_{\C}(\overline{z}x)=\Re f_{\C}(\overline{z}x)=f(\overline{z}x)=|f(\overline{z}x)|\\
                        &\leq\norm{f}\norm{\overline{z}x}=\norm{f}|\overline{z}|\norm{x}=\norm{f}\norm{x}
    \end{align*}
    so we see that $\norm{f_{\C}}\leq\norm{f}$.
    Conversely,
    \begin{equation*}
        |f(x)|=|\Re f_{\C}(x)|\leq|f_{\C}(x)|\leq\norm{f_{\C}}\norm{x}\text{ so that }\norm{f}\leq\norm{f_{\C}}
    \end{equation*}
\end{proof}
\begin{corollary}
    If $X$ is a normed space, $Y\subseteq X$ a subspace and $f\in Y^*$, then there exists $F\in X^*$ such that $F|_{Y}=f$ and $\norm{F}=\norm{f}$.
\end{corollary}
\begin{proof}
    Define $\rho:X\to\R$ be given by $p(x)=\norm{f}\cdot\norm{x}$, so $p$ is sublinear and $\Re f\leq p|_Y$.
    Apply Hahn-banach to to this data and get $\tilde F\in X_{\R}^*$ such that $\tilde F|_Y=\Re f$ and $\tilde F\leq p$, and let $F=\tilde F_{\C}$.
\end{proof}
\begin{corollary}
    If $X$ is a normed space, $x\in C$, then there is $f\in X^*$ such that
    \begin{equation*}
        \norm{x}=f(x)=|f(x)|\text{ and }\norm{f}=1
    \end{equation*}
\end{corollary}
\begin{proof}
    Let $f_0:\F x\to\F$ be given by $f_0(\alpha x)=\alpha\norm{x}$.
    If $x\neq 0$, then
    \begin{equation*}
        \norm{f_0}=\sup_{\norm{\alpha x}\leq 1}|f_0(\alpha x)|=\sup_{\norm{\alpha x}\leq 1}|\alpha|\norm{x}=1
    \end{equation*}
    and apply the previous corollary.
    If $x=0$, this is trivial.
\end{proof}
\begin{theorem}
    Let $X$ be a normed space and $X^{**}$ denote the bidual.
    For $x\in X$, define $\hat x:X^*\to\F$ by $\hat x(f)=f(x)$.
    Then $\hat x\in X^{**}$ with $\norm{\hat x}=\norm{x}$, so that $x\mapso\hat x:X\to X^{**}$ is a linear isometry.
\end{theorem}
\begin{proof}
    Notice that $|\hat x(f)|=|f(x)\leq\norm{f}\norm{x}$ so $\norm{\hat x}\leq\norm{x}$.
    The last corollary provides for $x\in X$ an $f_x\in S(X^*)$ with $|f_x(x)|=\norm{x}$.
    Then $\norm{\hat x}\leq|\hat x(f_x)|=\norm{x}$.
    Hence $\norm{\hat x}=\norm{x}$.
    Clearly $x\mapsto\hat x$ is linear.
\end{proof}
\begin{remark}
    Since $X^{**}$, being a dual space, is complete, we have that $\hat X=\{\hat x:x\in X\}$ satisfies that its closure $\overline{\hat X}\subseteq X^{**}$ is complete.
    Hence $\overline{\hat X}$ is a Banach space containing a dense copy of $X$.
    Often, we will simply write $\overline{\hat X}=\overline{X}$ and call it the \textbf{completion} of $X$.
\end{remark}
\subsection{Geometric Hahn-Banach}
If $A,B\subset X$ with $A\cap B=\emptyset$ (and other suitable assumptions), we will find a $\R-$hyperplane between $A$ and $B$.
\begin{definition}
    In a vector space, a \textbf{hyperplane} is any set of the form $x_0+\ker f$ with $x_0\in X$ and $f\in X'$.
    Then a \textbf{$\R-$hyperplane} is any set of the form $x_0+\ker\Re f$.
\end{definition}
\begin{proposition}
    Let $X$ be a normed space.
    \begin{enumerate}[nl,r]
        \item If $f\in X^*\setminus\{0\}$, then $\ker f$ is closed and nowhere dense.
        \item if $f\in X'\setminus X^*$, then $\overline{\ker f}=X$.
    \end{enumerate}
    Thus a hyperplane in $X$ is either closed and nowhere dense, or it is dense.
\end{proposition}
\begin{proof}
    To see (i), $\ker f=f^{-1}(\{0\})$ is a closed set since $f$ is continuous.
    Furthermore, if $Y\subsetneq X$ is a proper closed subspace, then it is nowhere dense.
    If not, then there would exist $y_0\in T$ and $\delta>0$ such that $y_0+\delta D(X)\subseteq Y$.
    But then $D(X)\subseteq\frac{1}{\delta}(Y-y_0)=Y$, so $X=\spn D(X)\subseteq Y$, a contradiction.

    To see (ii), suppose that $\ker f$ is not dense in $X$.
    Then there would be $x_0\in X$ and $\delta>0$ such that $(x_0+\delta D(X))\cap \ker f=\emptyset$, so
    \begin{equation}\label{e:idx}
        0\notin f(x_0+\delta D(X))=f(x_0)+\delta f(D(X))\Longrightarrow \frac{1}{\delta}f(x_0)\notin -f(D(X))=f(D(X))
    \end{equation}
    But then $\norm{f}\leq\frac{1}{\delta}f(x_0)$, for if $\norm{f}>\frac{1}{\delta}f(x_0)$, there would be $x\in D(X)$ such that $|f(x)|>\frac{1}{\delta}|f(x_0)|$.
    Thus
    \begin{equation*}
        \left\lvert\frac{f(x_0)}{\delta f(x)}\right\rvert<1\Longrightarrow \frac{f(x_0)}{\delta f(x)}=\frac{1}{\delta}f(x)
    \end{equation*}
    contradicting the statement in \cref{e:idx}.
\end{proof}
\begin{definition}
    Let $\emptyset\neq A\subseteq X$.
    We say that $A$ is
    \begin{itemize}[nl]
        \item \textbf{convex} if for $a,b\in A$ and $0<\lambda<1$, $(1-\lambda)a+\lambda b\in A$.
        \item \textbf{absorbing} at $a_0\in A$ if for any $x\in X$, there is $\epsilon(a_0,x)>0$ such that $a_0+tx\in A$ for $0\leq t<\epsilon$.
    \end{itemize}
\end{definition}
For example, if $X$ is a normed space, then any open set is absorbing around any of its points.
\begin{lemma}[Minkowski Functional]
    Let $A\subset X$ be a convex set containing 0 and absorbing at 0.
    Define $p:X\to\R$ by $p(x)=\inf\{t>0:x\in tA\}$.
    Then $p$ is a sublinear functional.
    Moreover, we have that
    \begin{enumerate}[nl,r]
        \item $\{x\in X:p(x)<1\}\subseteq A\subseteq\{x\in X:p(x)\leq 1\}$; and
        \item if $X$ is normed and $A$ is a neighbourhood of $0$, then there is $N>0$ such that $p(x)\leq N\norm{x}$ for $x\in X$.
    \end{enumerate}
\end{lemma}
\begin{proof}
    First note, for any $x\in X$, if $A$ is absorbing at $0$, there is $s>0$ such that $sx\in A$, so $x\in \frac{1}{s} A$ and hence $0\leq p(x)<\infty$.

    Let's see non-negative homogeneity.
    Clearly $p(0)=0$.
    If $s>0$ and $x\in X$, then
    \begin{equation*}
        p(sx)=\inf\{t>0:sx\in tA\}=\inf\left\{t>0:x\in\frac{t}{s}A\right\}=s\cdot\inf\left\{\frac{t}{s}>0:x\in\frac{t}{s}\right\}=sp(x)
    \end{equation*}
    We also have subadditivity.
    First, note that if $s,t>0$ and $a,b\in A$, then
    \begin{equation*}
        sa+tb=(s+t)\left(\frac{s}{s+t}a+\frac{s}{s+t}b\right)\in(s+t)A\Longrightarrow sA+tA\subseteq(s+t)A
    \end{equation*}
    by convexity, and also $(s+t)A=\{(s+t)a:a\in A\}\subseteq\{sa+tb:a,b\in A\}=sA+tA$.
    Thus $sA+tA=(s+t)A$.
    Now for $x,y\in X$, we have
    \begin{align*}
        p(x)+p(y) &= \inf\{s>0:x\in sA\}+\inf\{t>0:y\in tA\}\\
                  &= \inf\{s+t:s>0,t>0,x\in sA,y\in tA\}\\
                  &\geq\inf\{s+t:s>0,t>0,x+y\in sA+tA=(s+t)A\}\\
                  &= \inf\{r>0:x+y\in rA\}=p(x+y)
    \end{align*}
    so that $p$ is a sublinear functional.
    Then
    \begin{enumerate}[nl,r]
        \item If $p(x)<1$, then there is $0<t<1$ so $x\in tA$; i.e. $\frac{1}{t}x\in A$ and $x=(1-t)=+t\frac{1}{t}x\in A$.
            The second inclusion is obvious.
        \item The assumptions provide $\delta>0$ so $\delta D(X)\subseteq A$.
            Then for $x\in X$ and $\epsilon>0$,
            \begin{equation*}
                x\in(\norm{x}+\epsilon)D(X)=\frac{\norm{x}+\epsilon}{\delta}\delta D(X)\subseteq\frac{\norm{x}+\epsilon}{\delta}A
            \end{equation*}
            so $p(x)\leq\frac{\norm{x}+\epsilon}{\delta}$ so $p(x)\leq\frac{1}{\delta}\norm{x}$; the result follows with $N=1/\delta$.
    \end{enumerate}
\end{proof}
\begin{theorem}[Hyperplane Separation]
    Let $X$ be an $\F-$vector space, $A,B\subset X$ be convex with $A\cap B=\emptyset$ and $A$ absorbing at some $a_0$.
    Then there are $f\in X'$ and $\alpha\in\R$ such that
    \begin{equation*}
        \Re f(a)\geq\alpha\geq\Re f(b)
    \end{equation*}
    for $a\in A$ and $b\in B$.
    Moreover, if $X$ is normed, then
    \begin{itemize}[nl]
        \item If $A$ is a neighbourhood of $a_0$, we have $f\in X^*$; and
        \item if $A$ is absorbing around each of its points (for example if $A$ is open), then we have $\Re f(a)>\alpha\geq\Re f(b)$.
    \end{itemize}
\end{theorem}
\begin{proof}
    We first re-centre at $0$.
    Let $A-B=\{a-b:a\in A,b\in B\}$.
    Then it is easy to verify that
    \begin{enumerate}[nl,r]
        \item $A-B$ is absorbing at any $a_0-b$, $b\in B$
        \item $A-B$ is convex
        \item if $X$ is normed and $A$ a neighbourhood of $a_0$, then $A-B$ is a neighbourhood of each $a_0-b$, $b\in B$; and if $A$ is absorbing around any of its points (resp. open), then $A_B$ is absorbing around any of its points (resp. open).
    \end{enumerate}
    Let $x_0=a_0-b_0$ for some $b_0\in V$, and set $C=x_0-(A-B)$, so we have $0=x_0-x_0\in C$.
    Then by the above points, $C$ is absorbing at 0, convex, and if $X$ is normed and $A$ a neighbourhood of $a_0$, then $C$ is a neighbourhood of $0$; and if $A$ is absorbing at any of its points (resp. $A$ is open), then $C$ is absorbing at each of its points (resp. open).

    Let $p$ be the Minkowski functional of $C$.
    Notice that since $A\cap B=\emptyset$, $0\notin A-B$ so $x_0\notin C$.
    Thus by (i) of the lemma, $p(x_0)>1$.

    Let us find $f$ and $\alpha$.
    Let $f_0:\R x_0\to\R$, by $f_0(sx)=sp(x_0)$.
    Hence $f_0$ is linear and $f_0\leq p|_{Rx_0}$, so by Hahn-Banach, get $f\in X_{\R}'$ such that $f\leq p$ on $X$.
    If $a\in A$ and $b\in B$, then $x_0-(a-b)\in C$, so by (i) of the lemma, since $p(x_0)\geq 1$, we have $f(x_0-(a-b))\leq p(x_0-(a-b))\leq 1$.
    Thus $f(x_0)+f(b)\leq 1+f(a)$ so in fact $f(b)\leq f(a)$.
    Thus there exists some $\alpha\in\R$ such that
    \begin{equation*}
        \sup\{f(b):b\in B\}\leq\alpha\leq\inf\{f(a):a\in A\}
    \end{equation*}
    If $\F=\R$, we are done; otherwise, we shall replace $f$ by $f_{\C}$

    For the remainder of the proof, we suppose $X$ is a normed space, and $A$ is a neighbourhood of $a_0$.
    Then part (ii) of the lemma provides $N>0$ so that $p(x)\leq N\norm{x}$.
    Then for $x\in X$, $f(x)\leq p(x)\leq N\norm{x}$ and $-f(x)=p(-x)\leq N\norm{-x}=N\norm{x}$ so $|f(x)|\leq N\norm{x}$, in other words that $\norm{f}\leq N$ and $f\in X^*$.
    If $A$ is absorbing around any of its points, then $f(a)>\alpha$ for any $a\in A$.
    Indeed, suppose $f(a)=\alpha$.
    Then there would be $t>0$ so $a+t(-x_0)\in A$.
    But then $\alpha\leq f(a-tx_0)=f(a)-tf(x_0)<\alpha$, a contradiction.
\end{proof}
\begin{definition}
    If $\emptyset\neq S\subset X$, then its \textbf{convex hull} is given by
    \begin{equation*}
        \conv(S) = \{\sum_{i=1}^n\lambda_jx_j:n\in\N,x_1,\ldots,x_n\in S\text{ and }\lambda_1,\ldots,\lambda_n\geq 0\text{ with }\sum_{j=1}^n\lambda_j=1\}
    \end{equation*}
    One can verify that $\conv(S)$ is in fact convex, and is the smallest convex set containing $S$, i.e.
    \begin{equation*}
        \conv(S)=\bigcap\{C:S\subseteq C\subseteq X,C\text{ convex}\}
    \end{equation*}
    If $X$ is normed, we let $\overline{\conv}(S)$ denote the \textbf{closed convex hull}, i.e. the closure of the convex hull.
\end{definition}
\begin{definition}
    A \textbf{half-space} of $X$ is any set of the form $H=\{x\in X:\Re f(x)\leq \alpha\}$ for some $f\in X'$, $\alpha\in\R$.
\end{definition}
If $X$ is normed, then the last proposition shows $H$ is closed if and only if $f$ is bounded.
\begin{theorem}
    If $X$ is a normed vector space and $\emptyset\neq S\subset X$, then $\overline{\conv}(S)=\cap\{H:S\subseteq H\subset X, H\text{ a closed half space}\}$.
\end{theorem}
\begin{proof}
    It is immediate that $\overline{\conv}(S)\subseteq\cap\{H:S\subseteq H\subset X,H\text{ a closed half-space}\}$.
    Thus suppose $x_0\notin \overline{\conv}(S)$.
    Then there is $\delta>0$ such that $(x_0+\delta D(X))\cap\overline{\conv}(S)=\emptyset$.
    Since $x_0+\delta D(X)$ is open and convex, hyperplace separation gives provides $f\in X^*$ and $\alpha\in\R$ so $\Re f(a)>\alpha\geq\Re f(b)$ for $a\in x_0+\delta D(X)$ and $b\in\overline{\conv}(S)$.
    Then $S\subset H=\{y\in X:\Re f(x)\leq\alpha\}$ but $x_0\notin H$.
\end{proof}
\section{Some Applications of Baire Category Theorem}
\begin{theorem}[Baire Category I]
    If $(X,d)$ is a complete metric space and $\{U_n\}_{n=1}^\infty$ is a countable collection of dense, open subsets, then $\bigcap_{n=1}^\infty U_n$ is dense in $X$.
\end{theorem}
\begin{definition}
    Let $(X,d)$ be a metric space.
    A subset $F\subset X$ is \textbf{nowhere dense} if $X\setminus F$ is dense in $X$; equivalently, $\overline{F}$ contains no non-trivlal open subsets.
    We say that a subset $M\subseteq X$ is \textbf{meagre} (1st category) if $M=\bigcup_{n=1}^\infty F_n$ and each $F_n$ is nowehere dense; and a set is \textbf{non-meagre} (2nd category) otherwise.
\end{definition}
\begin{theorem}[Baire Category II]
    Let $(X,d)$ be a complete metric space.
    Then a non-empty open $U\subseteq X$ is non-meagre.
\end{theorem}
\begin{proof}
    Suppose not, so $U=\bigcup_{n=1}^\infty F_n\subseteq\bigcup_{n=1}^\infty\overline{F}_n$, each $F_n$ (hence $\overline{F_n}$) nowhere dense.
    Then each $V_n=X\setminus\overline{F_n}$ is open and dense, and hence by BCT I, $G=\bigcap_{n=1}^\infty V_n$ is dense in $X$, and hence $U\cap G\neq\emptyset$, violating assumption
\end{proof}
\begin{theorem}[Banach-Steinhaus]
    Let $X,Y$ be normed spaces, $U\subseteq X$ be non-meagre, and $\mathcal{F}\subset\mathcal{B}(X,Y)$ be such that for each $x\in U$, $\sup\{\norm{Tx}:T\in\mathcal{F}\}<\infty$ (pointwise bounded).
    Then $\mathcal{F}$ is uniformly bounded, i.e. $\sup\{\norm{T}:T\in\mathcal{F}\}<\infty$.
\end{theorem}
\begin{proof}
    Let for each $n\in\N$
    \begin{equation*}
        F_n=\bigcap_{T\in\mathcal{F}} T^{-1}(nB(Y))=\{x\in X:\norm{Tx}\leq n\text{ for all }T\in\mathcal{F}\}
    \end{equation*}
    so each $F_n$ is closed and, by the pointwise boundedness assumption, $U\subseteq\bigcup_{n=1}^\infty F_n$.
    By assumption of non-meagreness of $U$, at least one $F_{n_0}$ admis an interior point: there is $x_0\in F_{n_0}$ and $\delta>0$ such that $x_0+\delta D(X)\subseteq F_{n_0}$.
    Then if $x\in D(X)$, we have
    \begin{equation*}
        Tx=\frac{1}{\delta}\left[T\left(x_0+\frac{\delta}{2}x\right)-T\left(x_0-\frac{\delta}{2}x\right)\right]
    \end{equation*}
    so $\norm{Tx}\leq\frac{2}{\delta}n_0$, in other words
    \begin{equation*}
        \norm{T}=\sup_{x\in D(x)}\norm{Tx}\leq\frac{2n_0}{\delta}<\infty
    \end{equation*}
    where the bound is independent of $T$.
\end{proof}
\begin{theorem}[Open Mapping]
    Let $X,Y$ be Banach spaces, and $T\in B(X,Y)$ surjective.
    Then $T$ is an open map; i.e. $T(U)$ is open in $Y$ whenver $U$ is open in $X$.
\end{theorem}
\begin{remark}
    Given $x\in X$ and $\alpha\in\F\setminus\{0\}$, non-empty $A\subset X$, we have that $\overline{x+\alpha A}=x+\alpha\overline{A}$.
    Indeed, note that for $(a_k)_{k=1}^\infty\subset A$, we have
    \begin{equation*}
        a_k\to a\in\overline{A}\text{ if and only if }x+\alpha a_k\to x+\alpha a\in x+\alpha\overline{A}
    \end{equation*}
\end{remark}
\begin{lemma}
    With the assumptions as above, we have that if $\overline{T(D(X)}\supset rB(Y)$ for some $r>0$, then $T(D(X))\supseteq rD(Y)$.
\end{lemma}
\begin{proof}
    Let $z\in rD(Y)$ and let $0<\delta<1$ be so $\norm{z}<r(1-\delta)<r$.
    Set $y=z/(1-\delta)$ so $\norm{y}<r/(1-\delta)$.
    It suffices to show that $y\in\frac{1}{1-\delta}T(D(X))$.
    To begin, let $A=T(D(X))\cap rB(Y)$, so $\overline{A}=rB(Y)$.
    Indeed, if $y\in rB(Y)\subseteq\overline{T(D(X))}$, then there is $(y_k)_{k=1}^\infty\subset\overline{T(D(X))}$, so $y=\lim y_k$.
    But then there is $x_k\in D(X)$ so each $\norm{y_k-T(x_k)}<1/k$ so $y=\lim T(x_k)$ with each $x_k\in D(X)$.

    Now we inductively build a sequence $(y_n)_{n=1}^\infty$ as follows.
    \begin{itemize}[nl]
        \item Since $y\in rD(Y)\subseteq\overline{A}$, there is $y_1\in A\cap(y+\delta rD(Y))$
        \item $y\in y_1+\delta r(D(Y))\subseteq y_1+\delta\overline{A}=\overline{y_1+\delta A}$, so there is $y_2\in(y_1+\delta A)\cap (y+\delta^2rD(Y))$
        \item $y\in y_n+\delta^n rD(Y)\subseteq\overline{y_n+\delta^nA}$, so there is $y_{n+1}\in(y_n+\delta^n A)\cap(y+\delta^{n+1}rD(Y))$
    \end{itemize}
    By construction, $y_{n+1}-y_n\in\delta^n A$, so $\norm{y_{n+1}-y_n}\leq\delta^n r$ and there is $x_n\in\delta^n D(X)$ such that $y_{n+1}-y_n=Tx_n$.
    Likewise, $y_1\in A\subseteq T(D(X))$ so $y=T(x_0)$ for some $x_0\in D(X)$.
    Notice that each $y_n\in y+\delta^nr\inD(Y)$, so $\norm{y_n-y}\leq\delta^n r\to 0$.
    Since $X$ is complete, we let $x=\sum_{n=0}^\infty x_n$, and by construction
    \begin{equation*}
        \norm{x}\leq\sum_{n=0}^\infty\norm{x_n}<\sum_{n=0}^\infty\delta^n=\frac{1}{1-\delta}
    \end{equation*}
    Then by linearity and continuity of $T$, we have
    \begin{equation*}
        Tx=\sum_{n=0}^\infty Tx_n=y_1+\sum_{n=1}^\infty(y_{n+1}-y_n)=y_N+\sum_{n=N}^\infty(y_{n+1}-y_n)\to y
    \end{equation*}
    so that indeed $T(x)=y$, as required.
\end{proof}
\begin{remark}
    So far, we've only used completeness of $X$ and continuity and linearity of $T$.
\end{remark}
We now proceed with the proof of the open mapping theorem.
\begin{proof}
    It suffices to see that $T(D(X))$ contains a neighbourhood of $0$ in $Y$.
    Indeed, if $\emptyset\neq U\subseteq X$ is open, $x\in U$, then there is $\delta>0$ such that $x+\delta D(X)\subseteq U$, so $U-x\supseteq\delta D(X)$.
    If $T(D(X))\supseteq rD(Y)$, then $T(U-x)\supseteq\delta T(D(X))\supseteq r\delta D(Y)$ so that $Tx+r\delta D(Y)\subseteq T(U)$.
    In other words, $T(U)$ is a neighbourhood of any of its points, and thus open.

    Now write $X=\bigcup_{n=1}^\infty nD(X)$, and we assume that $T(X)=Y$.
    Hence $Y=\bigcup_{n=1}^\infty nT(D(X))$, so $Y=\bigcup_{n=1}^\infty n\overline{T(D(X))}$.
    But $Y$ is complete, so by Baire category theorem, there is some $n$ so that $n\overline{T(D(X))}$ has non-empty interior.
    Since $nT(D(X))$ is convex and symmetric, and hence $n\overline{T(D(X))}$ is convex and symmetric as well.
    Thus if $y\in D(Y)$, then $y_0\pm\epsilon\in y_0+\epsilon D(Y)$ so
    \begin{equation*}
        \epsilon y=\frac{1}{2}\left[y_0+\epsilon y-(y_0-\epsilon y)\right]\in n\overline{T(D(X))}
    \end{equation*}
    and $\frac{\epsilon}{n}y\in\overline{T(D(X))}$, i.e. $\frac{\epsilon}{n} D(Y)\subseteq\overline{T(D(X))}$.
    Thus applying the main lemma, $\frac{\epsilon}{n}D(Y)\subseteq T(D(X))$.
\end{proof}
\begin{theorem}[Inverse Mapping]
    If $X,Y$ are Banach spaces and $T\in \mathcal{B}(X,Y)$ is invertible, $T^{-1}\in\mathcal{B}(Y,X)$
\end{theorem}
\begin{proof}
    Direct application of the open mapping theorem.
\end{proof}
Let $X,Y$ be normed spaces.
Then we define for $(x,y)\in X\oplus Y$, and we let $\norm{(x,y)}_1=\norm{x}+\norm{y}$.
It is easy to check that $\norm{\cdot}_1$ is a norm on $X\oplus Y$, and if $X,Y$ are Banach, then so is $(X\oplus Y,\norm{\cdot}_1)$.
In this case, we write $X\oplus_1 Y$.
\begin{theorem}[Closed Graph]
    Let $X,Y$ be Banach spaces and $T\in\mathcal{L}(X,Y)$.
    Then $T\in\mathcal{B}(X,Y)$ if and only if $\Gamma(T)=\{(x,Tx):x\in X\}$ is closed in $X\oplus_1Y$.
\end{theorem}
\begin{proof}
    Let $T\in\mathcal{B}(X,Y)$.
    If $(x_n)\to x$ in $X$, then $Tx_n\to Tx$ in $Y$.
    Thus if $(x,y)\in\overline{\Gamma(T)}$, then $(x,y)=\lim(x_n,Tx_n)$ where $(x_n,Tx_n)\in\Gamma(T)$.
    But then
    \begin{equation*}
        \norm{y-Tx}\leq \norm{y-Tx_n}+\norm{Tx_n-Tx}\leq\norm{x-x_n}+\norm{y-Tx_n}+\norm{Tx_n-tx}=\norm{(x-y)-(x_n,Tx_n)}_1
    \end{equation*}
    so in fact $y=Tx$ so $(x,y)=(x,Tx)$.

    Conversely, if $\Gamma(T)$ is closed in $X\oplus_1 Y$, then $\Gamma(T)$ is a Banach space.
    Define $S:\Gamma(T)\to X$ by $S(x,Tx)=x$.
    Notice that $S$ is linear, and
    \begin{equation*}
        \norm{S(x,Tx)}=\norm{x}\leq\norm{(x,Tx)}_1
    \end{equation*}
    so $\norm{S}\leq 1$, so $S$ is bounded.
    It is also clear that $S$ is bijective, with $S^{-1}:X\to\Gamma(T)$ given by $S^{-1}(x)=(x,Tx)$.
    Thus the inverse mapping theorem gives that $S^{-1}$ is also bounded.
    Hence for any $x\in X$,
    \begin{equation*}
        \norm{Tx}\leq\norm{(x,Tx)}_1=\norm{S^{-1}x}\leq\norm{x}\norm{S^{-1}}
    \end{equation*}
    so that $T$ is in fact bounded.
\end{proof}
\begin{theorem}[Closed graph test]
    Given normed spaces and $T\in\mathcal{L}(X,Y)$, we have that $\Gamma(T)$ is closed in $X\oplus_1 Y$ if and only if whenever $x_n\to 0$ for which we may assume that $Tx_n$ converges in $Y$, say $y=\lim Tx_n$, then $y=0$ too.
\end{theorem}
\begin{proof}
    We have $(x_n,Tx_n)\to(x,z)\in\overline{\Gamma(T)}$ if and only if $(x_n-x,T(x_n-x))\to(x,z)-(x,Tx)=(0,z-Tx)$.
    Set $y=z-Tx$.
    We have $(x,z)\in\Gamma(T)$ if and only if $z=Tx$ if and only if $y=0$.
\end{proof}
\subsection{Testing hypothesis of OMT}
\begin{enumerate}[nl,r]
    \item Let $1\leq p<r<\infty$.
        We have that $\ell_p\subseteq\ell_r$, with $\norm{x}_r\leq\norm{x}_p$ for $x\in\ell_p$.
        First, suppose $x\in B(\ell_p)$, so for each $k$, $|x_k|\leq\norm{x}_p\leq 1$ so $|x_k|^{r/p}\leq|x_k|$.
        Hence
        \begin{equation*}
            \norm{x}_r = \left(\sum_{k=1}^\infty|x_k|^r\right)^{1/r}\leq \left(\sum_{k=1}^\infty|x_k|^p\right)^{1/r}=\norm{x}_p^{p/r}\leq 1
        \end{equation*}
        so if $x\in\ell_p\setminus\{0\}$, then the result follows.

        Let $S:(\ell_p,\norm{\cdot}_p)\to(\ell_p,\norm{\cdot}_r)$ be the identity map.
        Then $\norm{S}\leq 1$, and furthermore $S$ is bijective.
        If $S$ were open, then by the proof of inverse mapping theorem, we would see that $\norm{S^{-1}}<\infty$.
        Define $x^{(n)}\in\ell_p$ by
        \begin{equation*}
            x_k^{(n)}=
            \begin{cases}
                \frac{1}{ck^{1/p}} & k\leq n\\
                0 & k>n
            \end{cases}
            ,
            c=\sum_{k=1}^\infty\frac{1}{k^{r/p}}
        \end{equation*}
        We compute that $\norm{x^{(n)}}_r<1$ while $\norm{x^{(n)}}_p=\frac{1}{c}\left(\sum_{k=1}^n\frac{1}{k}\right)^{1/p}$.
        In other words, $\norm{S^{-1}x^{(n)}}_p$ goes to infinity, while $\norm{x^{(n)}}_r<1$, contradicting $\norm{S^{-1}}<\infty$.
        The moral of this is that if the range space is not complete, then OMT may not hold.
    \item Take $X=C_b(0,1)$, $X_0=\{f\in X:f\text{ is diferentiable on }(0,1),f'\in C_b(0,1)\}$.
        We have $X_0\subseteq X$, and we put the uniform norm $\norm{\cdot}_\infty$ on both spaces.
        We let $D:X_0\to X$, $Df=f'$.
        If $h_n(t)=t^n$, then $\norm{h_n}_\infty=1$ while $\norm{Dh_n}_\infty=n$, so $D$ is not bounded.
        Despite this, we have that $\Gamma(D)=\{(f,f'):f\in X_0\}$ is closed in $X_0\oplus_1 X$.
        We apply the closed graph test: let $(f_n,f_n')\to (0,g)$ in $X_0\oplus_1 X$.
        Notice that $\norm{f_n'}_\infty<\infty$, so $f_n$ is Libschitz on $(0,1)$, so $f_n$ is uniformly continuous on $(0,1)$, so $f_n(0^+)=\lim_{t\to 0^+}f(t)$ exists.
        Thus by the fundamental theorem of calculus, $f_n(t)=f_n(0^+)+\int_0^t f_n'$ for $t\in(0,1)$.
        In particular,
        \begin{itemize}[nl]
            \item $f_n\to 0$ uniformly, so $f_n(0^+)\to 9$
            \item $f_n'\to g$ uniformly, so for each $t\in(0,1)$,
                \begin{equation*}
                    \int_0^tg=\lim_{n\to\infty}\int_0^tf_n'=\lim_{n\to\infty}[f_n(t)-f_n(0^+)]=0
                \end{equation*}
        \end{itemize}
        and again, by the FT of C, $g(t)=0$.
        Thus $g=0$, so $\Gamma(D)$ is closed.
        We say that $D:X_0\to X$ is a \textbf{closed} operator.
        The moral here is that if the domain is not complete, then closedness of the graph does not imply boundedness of the operator.

        Now, let $J:X\to X_0$ have $Jg(t)=\int_0^t g$ for $t\in(0,1)$.
        By the FT of C, $D\circ J(G)=g$, in other words that $D\circ J=I$.
        We have for $g\in X$,
        \begin{equation*}
            \norm{Jg}_\infty=\sup_{t\in(0,1)}|\int_0^tg|\leq\sup_{t\in(0,1)}t\norm{g}_\infty\leq\norm{g}_\infty
        \end{equation*}
        so $\norm{J}\leq 1$.
        Hence $J(D(X))\subseteq D(X_0)$, and we apply $D$ to see $D(X)\subseteq D(D(X_0))$, in other words, that $D$ is open.
        As an exercise, show that $C_b(0,1)=X$ is not separable, while $X_0$ is separable.
\end{enumerate}
Let $X\subsetneq Y$ be $\F-$vector spaces.
We can always find a subspace $Z\subset Y$ so $X+Z=Y$ and $X\cap Z=\{0\}$.
Indeed, let $B$ be a basis for $X$, and $B'=B\cup B'$ is a basis for $Y$, and take $Z=\spn B'$.
\begin{theorem}
    Let $Y$ be a Banach space and $X\subsetneq Y$ a closed subspace.
    Then $X$ admis a closed complement $Z$ if and only if there is some $P\in\mathcal{B}(Y)$ such that $P\circ P=P$ and $\im P=P(Y)=X$.
\end{theorem}
\begin{remark}
    We say that $X\subsetneq Y$ is \textbf{boundedly complemented} if either of the above conditions hold.
\end{remark}
\begin{proof}
    $(\Leftarrow)$ Let $Z=\ker P$, which is closed.
    If $y\in Y$, then $y=Py+(I-Py$ where $Py\in X$ and $P(I-P)y=0$ so $(I-P)y\in\ker P$.
    If $z\in Z\cap X$, then $z=Py$ for some $y\in Y$ so $Pz=P^2y=Py=z$, but $z\in\ker P$, so $z=Pz=0$.

    $(\Rightarrow)$ Let $S:X\oplus_1 Z\to Y$ be given by $S(x,z)=x+z$.
    Then $S$ is surjective and if $(x,z)\in\ker S$, then $x+z=0$ so $x=-z\in X\cap Z=\{0\}$, hence $S$ is injective.
    Furthermore,
    \begin{equation*}
        \norm{S(x+z)}=\norm{x+z}\leq\norm{(x,z)}_1
    \end{equation*}
    so $\norm{S}\leq 1$.
    Hence $S$ is a bounded bijection between Banach space and hence $S^{-1}$ is bounded by the inverse mapping theorem.
    Let $P_1:X\oplus_1 Z\to X$ be given by $P_1(x,z)=x$; and $J:X\to Y$ by $Jx=x$.
    Notice that $\norm{P_1}=1$ and $\norm{J}=1$.
    Define $P:Y\to Y$ by $Py=JP_1S^{-1}y$.
    Then
    \begin{itemize}[nl]
        \item $\im J=X$, and each of $P_1,S^{-1}$ are surjective, so $\ran P=X$
        \item If $y\in Y$, $\norm{Py}=\norm{JP_1S^{-1}y}\leq\norm{S^{-1}}\norm{y}$ so $\norm{P}\leq\norm{S^{-1}}$
        \item Clearly $P^2=JP_1S^{-1}JP_1S^{-1}=P$
    \end{itemize}
\end{proof}
\end{document}


